<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Privacy Browser - Dashboard</title>
    <link rel="stylesheet" href="../styles/dashboard.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/feather-icons/4.29.0/feather.min.css">
</head>
<body>
    <div class="dashboard-container">
        <!-- Header -->
        <header class="dashboard-header">
            <div class="header-content">
                <h1>Privacy Browser</h1>
                <div class="header-actions">
                    <button id="settings-btn" class="btn btn-icon" title="Settings">
                        <i data-feather="settings"></i>
                    </button>
                    <button id="refresh-groups" class="btn btn-icon" title="Refresh">
                        <i data-feather="refresh-cw"></i>
                    </button>
                    <button id="logout-btn" class="btn btn-secondary">
                        <i data-feather="log-out"></i>
                        Logout
                    </button>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="dashboard-main">
            <!-- Subscription Status -->
            <section class="subscription-status">
                <div class="subscription-card">
                    <div class="subscription-info">
                        <h3 id="subscription-plan">Free Plan</h3>
                        <p id="subscription-details">Limited to 3 tab groups</p>
                    </div>
                    <div class="subscription-actions">
                        <button id="upgrade-btn" class="btn btn-primary">
                            <i data-feather="star"></i>
                            Upgrade Plan
                        </button>
                    </div>
                </div>
            </section>

            <!-- Quick Actions -->
            <section class="quick-actions">
                <button id="create-group-btn" class="btn btn-primary btn-large">
                    <i data-feather="plus"></i>
                    Create New Tab Group
                </button>
            </section>

            <!-- Tab Groups Grid -->
            <section class="tab-groups-section">
                <h2>Your Tab Groups</h2>
                <div id="tab-groups-grid" class="tab-groups-grid">
                    <!-- Tab groups will be populated here -->
                </div>
                <div id="empty-state" class="empty-state hidden">
                    <i data-feather="folder"></i>
                    <h3>No Tab Groups Yet</h3>
                    <p>Create your first tab group to start browsing privately with isolated sessions.</p>
                    <button class="btn btn-primary" onclick="document.getElementById('create-group-btn').click()">
                        Create Tab Group
                    </button>
                </div>
            </section>
        </main>

        <!-- Settings Modal -->
        <div id="settings-modal" class="modal hidden">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Settings</h3>
                    <button id="close-settings-modal" class="btn btn-icon">
                        <i data-feather="x"></i>
                    </button>
                </div>
                <div class="settings-tabs">
                    <button class="settings-tab active" data-tab="account">Account</button>
                    <button class="settings-tab" data-tab="subscription">Subscription</button>
                    <button class="settings-tab" data-tab="privacy">Privacy</button>
                </div>
                <div class="settings-content">
                    <div id="account-settings" class="settings-panel active">
                        <form id="account-settings-form">
                            <div class="form-group">
                                <label for="settings-username">Username</label>
                                <input type="text" id="settings-username" readonly>
                            </div>
                            <div class="form-group">
                                <label for="settings-email">Email</label>
                                <input type="email" id="settings-email">
                            </div>
                            <div class="form-group">
                                <label for="current-password">Current Password</label>
                                <input type="password" id="current-password">
                            </div>
                            <div class="form-group">
                                <label for="new-password">New Password</label>
                                <input type="password" id="new-password">
                            </div>
                            <button type="submit" class="btn btn-primary">Update Account</button>
                        </form>
                    </div>
                    <div id="subscription-settings" class="settings-panel">
                        <div class="subscription-plans">
                            <div class="plan-card">
                                <h4>Free Plan</h4>
                                <div class="plan-price">$0<span>/month</span></div>
                                <ul class="plan-features">
                                    <li>3 Tab Groups</li>
                                    <li>Basic Privacy Features</li>
                                    <li>Community Support</li>
                                </ul>
                                <button class="btn btn-secondary" disabled>Current Plan</button>
                            </div>
                            <div class="plan-card featured">
                                <h4>Premium Plan</h4>
                                <div class="plan-price">$9.99<span>/month</span></div>
                                <ul class="plan-features">
                                    <li>Unlimited Tab Groups</li>
                                    <li>Advanced Privacy Features</li>
                                    <li>Priority Support</li>
                                    <li>Custom Themes</li>
                                </ul>
                                <button class="btn btn-primary" onclick="dashboardManager.showPaymentModal('premium')">Upgrade Now</button>
                            </div>
                        </div>
                    </div>
                    <div id="privacy-settings" class="settings-panel">
                        <form id="privacy-settings-form">
                            <div class="form-group">
                                <label>
                                    <input type="checkbox" id="clear-data-on-exit" checked>
                                    Clear all data when closing tab groups
                                </label>
                            </div>
                            <div class="form-group">
                                <label>
                                    <input type="checkbox" id="block-trackers" checked>
                                    Block tracking scripts
                                </label>
                            </div>
                            <div class="form-group">
                                <label>
                                    <input type="checkbox" id="disable-notifications">
                                    Disable browser notifications
                                </label>
                            </div>
                            <button type="submit" class="btn btn-primary">Save Privacy Settings</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <!-- Payment Modal -->
        <div id="payment-modal" class="modal hidden">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Upgrade to Premium</h3>
                    <button id="close-payment-modal" class="btn btn-icon">
                        <i data-feather="x"></i>
                    </button>
                </div>
                <div class="payment-content">
                    <div class="payment-summary">
                        <h4>Premium Plan</h4>
                        <div class="payment-amount">$9.99/month</div>
                        <ul class="payment-features">
                            <li>Unlimited Tab Groups</li>
                            <li>Advanced Privacy Features</li>
                            <li>Priority Support</li>
                            <li>Custom Themes</li>
                        </ul>
                    </div>
                    <form id="payment-form">
                        <div class="form-group">
                            <label for="card-number">Card Number</label>
                            <input type="text" id="card-number" placeholder="1234 5678 9012 3456" required>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="expiry-date">Expiry Date</label>
                                <input type="text" id="expiry-date" placeholder="MM/YY" required>
                            </div>
                            <div class="form-group">
                                <label for="cvv">CVV</label>
                                <input type="text" id="cvv" placeholder="123" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="cardholder-name">Cardholder Name</label>
                            <input type="text" id="cardholder-name" required>
                        </div>
                        <div class="form-actions">
                            <button type="button" id="cancel-payment" class="btn btn-secondary">Cancel</button>
                            <button type="submit" class="btn btn-primary">Subscribe Now</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Create Group Modal -->
        <div id="create-group-modal" class="modal hidden">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Create New Tab Group</h3>
                    <button id="close-modal" class="btn btn-icon">
                        <i data-feather="x"></i>
                    </button>
                </div>
                <form id="create-group-form">
                    <div class="form-group">
                        <label for="group-name">Group Name</label>
                        <input type="text" id="group-name" name="name" required placeholder="e.g., Work, Personal, Research">
                    </div>
                    <div class="form-group">
                        <label for="timer-minutes">Auto-close Timer (minutes)</label>
                        <input type="number" id="timer-minutes" name="timerMinutes" min="0" max="1440" placeholder="0 = No timer">
                        <small>Set to 0 to disable auto-close timer. Maximum 1440 minutes (24 hours).</small>
                    </div>
                    <div class="form-actions">
                        <button type="button" id="cancel-create" class="btn btn-secondary">Cancel</button>
                        <button type="submit" class="btn btn-primary">Create Group</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Timer Alert -->
        <div id="timer-alert" class="timer-alert hidden">
            <div class="alert-content">
                <div class="alert-icon">
                    <i data-feather="clock"></i>
                </div>
                <div class="alert-message">
                    <h4>Tab Group Closing Soon</h4>
                    <p id="alert-message-text"></p>
                </div>
                <div class="alert-actions">
                    <button id="extend-timer-btn" class="btn btn-primary">Extend Timer</button>
                    <button id="dismiss-alert-btn" class="btn btn-secondary">Dismiss</button>
                </div>
            </div>
        </div>

        <!-- Loading Overlay -->
        <div id="loading-overlay" class="loading-overlay hidden">
            <div class="spinner"></div>
            <p>Loading...</p>
        </div>
    </div>

    <script src="https://unpkg.com/feather-icons"></script>
    <script src="dashboard.js"></script>
</body>
</html>
